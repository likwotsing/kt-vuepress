<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>package.json | 前端知识</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/kt-vuepress/favicon.ico">
    <meta name="description" content="前端知识点汇总">
    <link rel="preload" href="/kt-vuepress/assets/css/0.styles.008cb6a5.css" as="style"><link rel="preload" href="/kt-vuepress/assets/js/app.ed2bf4cb.js" as="script"><link rel="preload" href="/kt-vuepress/assets/js/2.90c87c0b.js" as="script"><link rel="preload" href="/kt-vuepress/assets/js/27.b27e3ad7.js" as="script"><link rel="prefetch" href="/kt-vuepress/assets/js/10.bc474c2c.js"><link rel="prefetch" href="/kt-vuepress/assets/js/11.baaedd31.js"><link rel="prefetch" href="/kt-vuepress/assets/js/12.b7202efa.js"><link rel="prefetch" href="/kt-vuepress/assets/js/13.185f35f5.js"><link rel="prefetch" href="/kt-vuepress/assets/js/14.941cc136.js"><link rel="prefetch" href="/kt-vuepress/assets/js/15.7cbd78cd.js"><link rel="prefetch" href="/kt-vuepress/assets/js/16.c57856a1.js"><link rel="prefetch" href="/kt-vuepress/assets/js/17.9757842d.js"><link rel="prefetch" href="/kt-vuepress/assets/js/18.ee37bb82.js"><link rel="prefetch" href="/kt-vuepress/assets/js/19.dd52f1c3.js"><link rel="prefetch" href="/kt-vuepress/assets/js/20.5a6d09eb.js"><link rel="prefetch" href="/kt-vuepress/assets/js/21.c0064c9d.js"><link rel="prefetch" href="/kt-vuepress/assets/js/22.fe268a2c.js"><link rel="prefetch" href="/kt-vuepress/assets/js/23.229d8b3b.js"><link rel="prefetch" href="/kt-vuepress/assets/js/24.e8022dff.js"><link rel="prefetch" href="/kt-vuepress/assets/js/25.7e23b398.js"><link rel="prefetch" href="/kt-vuepress/assets/js/26.2c431f60.js"><link rel="prefetch" href="/kt-vuepress/assets/js/28.2833b8d3.js"><link rel="prefetch" href="/kt-vuepress/assets/js/29.00d7e7b5.js"><link rel="prefetch" href="/kt-vuepress/assets/js/3.468495df.js"><link rel="prefetch" href="/kt-vuepress/assets/js/30.f2c128be.js"><link rel="prefetch" href="/kt-vuepress/assets/js/31.e305f032.js"><link rel="prefetch" href="/kt-vuepress/assets/js/32.13554f83.js"><link rel="prefetch" href="/kt-vuepress/assets/js/33.bafe657c.js"><link rel="prefetch" href="/kt-vuepress/assets/js/4.44d64a9c.js"><link rel="prefetch" href="/kt-vuepress/assets/js/5.e59dee5d.js"><link rel="prefetch" href="/kt-vuepress/assets/js/6.4277a135.js"><link rel="prefetch" href="/kt-vuepress/assets/js/7.b1b6eba7.js"><link rel="prefetch" href="/kt-vuepress/assets/js/8.810bce6f.js"><link rel="prefetch" href="/kt-vuepress/assets/js/9.6b0f248e.js">
    <link rel="stylesheet" href="/kt-vuepress/assets/css/0.styles.008cb6a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kt-vuepress/" class="home-link router-link-active"><img src="/kt-vuepress/assets/img/logo.png" alt="前端知识" class="logo"> <span class="site-name can-hide">前端知识</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kt-vuepress/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/server/" class="nav-link">
  Sever
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/explore/" class="nav-link">
  探索
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/relation/" class="nav-link router-link-active">
  相关
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          微信
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kt-vuepress/zh/wx/gzh.html" class="nav-link">
  公众号
</a></li><li class="dropdown-subitem"><a href="/kt-vuepress/zh/wx/xcx.html" class="nav-link">
  小程序
</a></li></ul></li><li class="dropdown-item"><h4>
          感兴趣
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kt-vuepress/zh/interest/id.html" class="nav-link">
  身份号码
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/vuejs/vuepress/blob/master/packages/docs/docs/.vuepress/nav/zh.js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/kt-vuepress/zh/other/" class="nav-link">
  其他
</a></div> <a href="https://github.com/likwotsing/kt-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kt-vuepress/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/server/" class="nav-link">
  Sever
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/explore/" class="nav-link">
  探索
</a></div><div class="nav-item"><a href="/kt-vuepress/zh/relation/" class="nav-link router-link-active">
  相关
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          微信
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kt-vuepress/zh/wx/gzh.html" class="nav-link">
  公众号
</a></li><li class="dropdown-subitem"><a href="/kt-vuepress/zh/wx/xcx.html" class="nav-link">
  小程序
</a></li></ul></li><li class="dropdown-item"><h4>
          感兴趣
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kt-vuepress/zh/interest/id.html" class="nav-link">
  身份号码
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/vuejs/vuepress/blob/master/packages/docs/docs/.vuepress/nav/zh.js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/kt-vuepress/zh/other/" class="nav-link">
  其他
</a></div> <a href="https://github.com/likwotsing/kt-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>更多</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kt-vuepress/zh/relation/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/kt-vuepress/zh/relation/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/kt-vuepress/zh/relation/package.json.html" aria-current="page" class="active sidebar-link">package.json</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#文档" class="sidebar-link">文档</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#创建案例代码" class="sidebar-link">创建案例代码</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#package-json核心字段" class="sidebar-link">package.json核心字段</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#name" class="sidebar-link">name</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#version" class="sidebar-link">version</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#preferglobal" class="sidebar-link">preferGlobal</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#description" class="sidebar-link">description</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#keywords" class="sidebar-link">keywords</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#peopel" class="sidebar-link">peopel</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#homepage" class="sidebar-link">homepage</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#bugs" class="sidebar-link">bugs</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#repository" class="sidebar-link">repository</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#files" class="sidebar-link">files</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#private" class="sidebar-link">private</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#engines" class="sidebar-link">engines</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#main" class="sidebar-link">main</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#license" class="sidebar-link">license</a></li></ul></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#依赖包管理" class="sidebar-link">依赖包管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#dependencies业务依赖" class="sidebar-link">dependencies业务依赖</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#devdependencies开发依赖" class="sidebar-link">devDependencies开发依赖</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#peerdependencies同伴依赖" class="sidebar-link">peerDependencies同伴依赖</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#bundleddependencies打包依赖" class="sidebar-link">bundledDependencies打包依赖</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#optionaldependencies可选依赖" class="sidebar-link">optionalDependencies可选依赖</a></li></ul></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#package-lock-json" class="sidebar-link">package-lock.json</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#scripts" class="sidebar-link">scripts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#npm-run" class="sidebar-link">npm run</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#cross-env" class="sidebar-link">cross-env</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#通配符" class="sidebar-link">*通配符</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#脚本传参符号：" class="sidebar-link">脚本传参符号：--</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#脚本执行顺序" class="sidebar-link">脚本执行顺序</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#脚本钩子" class="sidebar-link">脚本钩子</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#常用脚本命令" class="sidebar-link">常用脚本命令</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#拿到package-json的变量" class="sidebar-link">拿到package.json的变量</a></li><li class="sidebar-sub-header"><a href="/kt-vuepress/zh/relation/package.json.html#bin" class="sidebar-link">bin</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="package-json"><a href="#package-json" class="header-anchor">#</a> package.json</h1> <h2 id="文档"><a href="#文档" class="header-anchor">#</a> 文档</h2> <p><a href="https://docs.npmjs.com/files/package.json.html" target="_blank" rel="noopener noreferrer">官网地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h2> <ul><li>在node.js中，有模块的概念，这个模块可以是一个库、框架、项目等。这个模块的描述文件就是package.json</li> <li>它是一个标准的json对象，描述了项目的配置信息(名称、版本、许可证等元数据)以及所需要的各种模块</li> <li><code>npm install</code>命令会根据这个配置文件，自动下载依赖的模块，配置运行和开发环境</li></ul> <h2 id="创建案例代码"><a href="#创建案例代码" class="header-anchor">#</a> 创建案例代码</h2> <ul><li><p>创建项目目录</p> <div class="language-js extra-class"><pre class="language-js"><code>mkdir <span class="token keyword">package</span><span class="token operator">-</span>learn <span class="token operator">&amp;&amp;</span> cd <span class="token keyword">package</span><span class="token operator">-</span>learn
</code></pre></div></li> <li><p>初始化</p> <div class="language-js extra-class"><pre class="language-js"><code>npm init <span class="token operator">-</span>y
</code></pre></div></li> <li><p>package.json生成</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kt-webpack&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git+https://github.com/likwotsing/kt-webpack.git&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;bugs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/likwotsing/kt-webpack/issues&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/likwotsing/kt-webpack#readme&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="package-json核心字段"><a href="#package-json核心字段" class="header-anchor">#</a> package.json核心字段</h2> <h3 id="name"><a href="#name" class="header-anchor">#</a> name</h3> <p>包的名称，发布到npm平台上显示的名称，业务引入是<code>require(name)</code>的名称。</p> <p><strong>规范</strong></p> <ul><li>唯一</li> <li>名称不能以点或下划线开头</li> <li>新包的名称中不能有大写字母</li></ul> <h3 id="version"><a href="#version" class="header-anchor">#</a> version</h3> <p>包版本，对于业务项目来说，这个往往不太重要，但是如果要发布自己的项目，这个就显得十分重要了。name和version共同决定了唯一一份代码。npm使用<a href="https://docs.npmjs.com/misc/semver.html" target="_blank" rel="noopener noreferrer">npm-semver<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>来解析版本号的。</p> <p>npm模块的完整版本号一般是**【主版本.次要版本.小版本】**</p> <ul><li>主版本：大的变动，可能影响了向后的兼容性</li> <li>次要版本：增加了新的特性不改变已有特性</li> <li>小版本：修改bug或其他小的改动</li></ul> <h3 id="preferglobal"><a href="#preferglobal" class="header-anchor">#</a> preferGlobal</h3> <p>布尔值，表示当用户不将该模块安装为全局模块时(即不使用-global参数)，要不要显示警告，表示该模块的本意就是安装为全局模块</p> <h3 id="description"><a href="#description" class="header-anchor">#</a> description</h3> <p>字符串，包的描述，发布包之后，用户在npmjs.com搜索包名后，显示的描述</p> <h3 id="keywords"><a href="#keywords" class="header-anchor">#</a> keywords</h3> <p>字符串数组，其作用与描述相似。npm注册表会为该字段建立索引，能够在有人搜索软件包时帮助找到他们。</p> <p>如果不准备发布包，这个字段就没什么用。</p> <h3 id="peopel"><a href="#peopel" class="header-anchor">#</a> peopel</h3> <ul><li>author：字符串/对象，项目的作者，对象可包括name、email、url</li> <li>contributors：数组，项目的贡献者</li></ul> <h3 id="homepage"><a href="#homepage" class="header-anchor">#</a> homepage</h3> <p>主页信息，一个表示项目首页的url</p> <h3 id="bugs"><a href="#bugs" class="header-anchor">#</a> bugs</h3> <p>接收问题反馈的url地址，也可以是email地址。一般是github项目下的issues</p> <h3 id="repository"><a href="#repository" class="header-anchor">#</a> repository</h3> <p>项目源代码仓库的位置，如果git项目是托管在github上的，那么<code>npm docs</code>命令是能够找到的</p> <h3 id="files"><a href="#files" class="header-anchor">#</a> files</h3> <p>数组，包下载完成时包括的所有文件</p> <p>作用和gitignore类似，只不过作用相反，如果要包含所有文件可以使用[*]表示</p> <h3 id="private"><a href="#private" class="header-anchor">#</a> private</h3> <p>如果设置为<code>true</code>，则无法通过<code>npm publish</code>发布代码</p> <h3 id="engines"><a href="#engines" class="header-anchor">#</a> engines</h3> <p>包所依赖的node环境、npm版本</p> <h3 id="main"><a href="#main" class="header-anchor">#</a> main</h3> <p>包的主要入口，启动包的文件</p> <blockquote><p>可以指定项目的主要的入口，用户安装使用，require()就能返回入口文件的export module.exports暴露的对象</p></blockquote> <h3 id="license"><a href="#license" class="header-anchor">#</a> license</h3> <p>包的许可证</p> <p><a href="http://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html" target="_blank" rel="noopener noreferrer">阮一峰老师许可证文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="依赖包管理"><a href="#依赖包管理" class="header-anchor">#</a> 依赖包管理</h2> <p>npm 支持5种依赖包管理类型</p> <ol><li>dependencies：应用依赖/业务依赖</li> <li>devDependencies：开发依赖</li> <li>peerDependencies：同伴依赖</li> <li>bundledDependencies/bundleDependencies：打包依赖</li> <li>optionalDependencies：可选依赖</li></ol> <p>平时用的依赖第dependencies，devDependencies，其他三种依赖在发布到npm时才会用到。</p> <h3 id="dependencies业务依赖"><a href="#dependencies业务依赖" class="header-anchor">#</a> dependencies业务依赖</h3> <ul><li>列出项目使用的所有依赖项</li> <li>使用npm CLI安装软件包时，将下载到node_modules/文件夹中，并将一条目添加到依赖属性中</li> <li>用于指定应用依赖的外部包，一些依赖是应用发布上线后，正常执行时所需要的。<strong>一定要考虑这个包在线是否用的到，不要全部放到dependencies中，增加打包的体积和效率</strong></li></ul> <p>通过以下命令安装依赖会放在dependencies：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm i packageName <span class="token operator">--</span>save
npm i packageName <span class="token operator">-</span><span class="token constant">S</span>
npm install packageName <span class="token operator">--</span>save
npm install packageName <span class="token operator">-</span><span class="token constant">S</span>
npm i packageName <span class="token comment">// npm 5.x版本，不添加--save/-S参数时，就会把依赖添加到dependencies里</span>
</code></pre></div><blockquote><p>如果没有指定版本，直接写一个包的名字，则安装当前npm仓库中这个包的最新版本。如果要指定版本的，可以把版本号写在包后面，如<code>npm i vue@2.6.10 -S</code></p></blockquote> <p>在依赖版本中看到的插入符号(<code>^</code>)和波浪号(<code>~</code>)是semVer中定义的版本范围的表示法：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;depencencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0 - 2.9.9&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定版本范围</span>
    <span class="token property">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=1.0.2 &lt;2.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;baz&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&gt;1.0.2 &lt;=2.3.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;boo&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定版本</span>
    <span class="token property">&quot;qux&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2  &lt;3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;asd&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;http://asdf.com/asdf.tar.gz&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定包地址</span>
    <span class="token property">&quot;til&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;~1.2&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 最近可⽤用版本</span>
    <span class="token property">&quot;elf&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;~1.2.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;elf&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;^1.2.3&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 兼容版本</span>
    <span class="token property">&quot;two&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2.x&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 2.1、2.2、...、2.9皆可⽤用</span>
    <span class="token property">&quot;thr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任意版本</span>
    <span class="token property">&quot;thr2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 任意版本</span>
    <span class="token property">&quot;lat&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;latest&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 当前最新</span>
    <span class="token property">&quot;dyl&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;file:../dyl&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 本地地址</span>
    <span class="token property">&quot;xyz&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;git+ssh://git@github.com:npm/npm.git#v1.0.27&quot;</span><span class="token punctuation">,</span> <span class="token comment">// git 地址</span>
    <span class="token property">&quot;fir&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;git+ssh://git@github.com:npm/npm#semver:^5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;wdy&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;git+https://isaacs@github.com/npm/npm.git&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;xxy&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;git://github.com/npm/npm.git#v1.0.27&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>版本匹配：</p> <ul><li>指定版本：如<code>1.1.1</code>，遵循“大版本.次要版本.小版本”的格式规定，安装时只安装指定版本</li> <li>波浪号(tilde) + 指定版本：比如<code>~1.2.2</code>，表示安装1.2.x的最新版本(不低于1.2.2)，但是不安装1.3.x，也就是说安装时<strong>不改变大版本号和次要版本号</strong></li> <li>插入好(caret) + 指定版本：如<code>^1.2.2</code>， 表示安装1.x.x的最新版本(不低于1.2.2)，但是不安装2.x.x，也就是说安装时<strong>不改变大版本号</strong>。需要注意的是，如果大版本号为0，则插入号的行为与波浪号相同，这是因为此时处于开发阶段，即使次要版本号变动，也可能带来版本的不兼容</li> <li>latest：安装最新版本</li></ul> <h3 id="devdependencies开发依赖"><a href="#devdependencies开发依赖" class="header-anchor">#</a> devDependencies开发依赖</h3> <ul><li>项目开发时需要的依赖，不是线上代码的一部分。通常是单元测试或者打包工具。</li></ul> <p>通过以下安装命令会把依赖放到devDependencies：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm i packageName <span class="token operator">--</span>save<span class="token operator">-</span>dev
npm i packageName <span class="token operator">-</span><span class="token constant">D</span>
npm install packageName <span class="token operator">--</span>save<span class="token operator">-</span>dev
npm install packageName <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><h3 id="peerdependencies同伴依赖"><a href="#peerdependencies同伴依赖" class="header-anchor">#</a> peerDependencies同伴依赖</h3> <p>作用是提示宿主环境去安装插件在<code>peerDependencies</code>中所指定依赖的包，最终解决插件与依赖包不一致的问题。</p> <p><code>element-ui@2.6.3</code>只是提供一套基于vue的ui组件库，但他要求宿主环境需要安装指定的vue版本，所以在elementui项目中的package.json中有一个配置：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.5.16&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="bundleddependencies打包依赖"><a href="#bundleddependencies打包依赖" class="header-anchor">#</a> bundledDependencies打包依赖</h3> <p>这种依赖和<code>npm pack</code>打包命令有关</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;front-end&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;fe1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.3.2&quot;</span><span class="token punctuation">,</span>
        ...
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ...
        <span class="token property">&quot;fe2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bundledDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;fe1&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;fe2&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>执行打包命令<code>npm pack</code>，会生成<code>front-end</code>-1.0.0.tgz压缩包，并且该压缩包中包含fe1和fe2两个安装包，这样使用者执行<code>npm install front-end-1.0.0.tgz</code>也会安装这两个依赖。</p> <blockquote><p>在bundledDependencies中指定的依赖包，必须先在dependencies和devDependencies声明过，否则打包会报错</p></blockquote> <h3 id="optionaldependencies可选依赖"><a href="#optionaldependencies可选依赖" class="header-anchor">#</a> optionalDependencies可选依赖</h3> <p>这种依赖中的依赖项即使安装失败了，也不影响整个安装的过程。需要注意的是，如果一个依赖同时出现在dependencies和optionalDependencies中，那么optionalDevDependencies会获得更高的优先级，可能造成一些预期之外的效果，所以尽量避免这种情况发生。</p> <h2 id="package-lock-json"><a href="#package-lock-json" class="header-anchor">#</a> package-lock.json</h2> <p>执行<code>npm install</code>的时候，会在当前目录生成一个<code>package-lock.json</code>文件，这个文件记录当前状态下实际安装的各个npm package的具体来源和版本号。<strong>用于依赖包版本管理</strong></p> <ul><li>在大版本相同的前提下，如果一个模块在<code>package.json</code>中的小版本要大于<code>package-lock.json</code>中的小版本，则在执行<code>npm install</code>时，会将该模块更新到大版本下的最新的版本，并将版本号更新至<code>package-lock.json</code>。如果小于，则被<code>package-lock.json</code>中的版本锁定</li> <li>如果一个模块在<code>package.json</code>和<code>package-lock.json</code>中的大版本不相同，则在执行<code>npm install</code>时，都将根据<code>package.json</code>中大版本下的最新版本进行更新，并将版本号更新至<code>package-lock.json</code>中</li> <li>如果一个模块在<code>package.json</code>中有记录，而在<code>package-lock.json</code>中无记录，执行<code>npm install</code>后，则会在<code>package-lock.json</code>生成该模块的详细记录。同理，一个模块在<code>package.json</code>中无记录，而在<code>package-lock.json</code>中有记录，执行<code>npm install</code>后，则会在<code>package-lock.json</code>中删除该模块的详细记录。</li></ul> <h2 id="scripts"><a href="#scripts" class="header-anchor">#</a> scripts</h2> <p>scripts是npm CLI用来运行项目任务的强大工具。他们可以完成开发过程中大多数任务，指定脚本命令的npm命令行缩写。</p> <p>npm脚本的原理：当执行<code>npm run</code>，就会自动新建一个shell，在这个shell里面执行指定的脚本命令。因此，只要是shell(一般是bash)可以运行的命令，就可以写在npm脚本里面。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tap test/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config build.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>npm run</code>新建的shell，会将当前目录的<code>node_modules/.bin</code>子目录加入PATH变量，执行结束后，再将PATH变量恢复原样。因此，当前目录的node_modules/.bin子目录里面的所有脚本，都可以直接用脚本名调用，而不必加上路径。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tap test/index.js&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><p>而不是：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node_modules/./bin/tap test/index.js&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="npm-run"><a href="#npm-run" class="header-anchor">#</a> npm run</h3> <p>执行<code>npm run</code>可以列出所有可以执行的脚本命令</p> <h3 id="cross-env"><a href="#cross-env" class="header-anchor">#</a> cross-env</h3> <p>运行跨平台设置和使用环境变量的脚本</p> <p>windows不支持NODE_ENV=development的设置方式，cross-evn能够提供一个设置环境变量的scripts，让用户能够以unix方式设置环境变量，然后在windows上也能兼容运行</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 安装</span>
npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev cross<span class="token operator">-</span>env

<span class="token comment">// 使用</span>
<span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="通配符"><a href="#通配符" class="header-anchor">#</a> *通配符</h3> <p>*表示任意文件名，**表示任意一层子目录。</p> <p>如果要将通配符传入原始命令，防止被shell转义，要将星号转义：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tap test/\*.js&quot;</span>
</code></pre></div><h3 id="脚本传参符号："><a href="#脚本传参符号：" class="header-anchor">#</a> 脚本传参符号：--</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --mode=development --open --iframe=true&quot;</span>
</code></pre></div><h3 id="脚本执行顺序"><a href="#脚本执行顺序" class="header-anchor">#</a> 脚本执行顺序</h3> <p><strong>并行执行</strong>(即同时的平行执行)，可以使用<code>&amp;</code>符号：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm run script1<span class="token punctuation">.</span>js <span class="token operator">&amp;</span> npm run script2<span class="token punctuation">.</span>js
</code></pre></div><p><strong>继发执行</strong>(即只有前一个任务成功，才执行下一个任务)，可以使用<code>&amp;&amp;</code>符号：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm run script1<span class="token punctuation">.</span>js <span class="token operator">&amp;&amp;</span> npm run script2<span class="token punctuation">.</span>js
</code></pre></div><h3 id="脚本钩子"><a href="#脚本钩子" class="header-anchor">#</a> 脚本钩子</h3> <p>npm脚本有pre和post两个钩子，前者是在脚本运行前，后者是在脚本运行后执行，所有的命令脚本都可以使用钩子(包括自定义的脚本).</p> <p>如：运行<code>npm run build</code>，会按一下顺序执行：</p> <p><code>npm run prebuild</code> --&gt; <code>npm run build</code> --&gt; <code>npm run postbuild</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;clean&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rimraf ./dist &amp;&amp; mkdir dist&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;prebuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run clean&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross-env NODE_ENV=production webpack&quot;</span>
</code></pre></div><p><a href="https://docs.npmjs.com/using-npm/scripts" target="_blank" rel="noopener noreferrer">npm默认提供的钩子<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="常用脚本命令"><a href="#常用脚本命令" class="header-anchor">#</a> 常用脚本命令</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;clean&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rimraf dist/*&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 删除目录</span>
<span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http-server -p 9090 dist/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 本地搭建一个 HTTP服务</span>
<span class="token property">&quot;open:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;opener http://localhost:9090&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 打开浏览器</span>
<span class="token property">&quot;livereload&quot;</span><span class="token operator">:</span> <span class="token string">&quot;live-reload --port 9091 dist/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 实时刷新</span>
<span class="token property">&quot;build:html&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jade index.jade &gt; dist/index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 构建HTML文件</span>
<span class="token property">&quot;watch:css&quot;</span><span class="token operator">:</span> <span class="token string">&quot;watch 'npm run build:css' assets/styles/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 只要css文件有变动，就重新执行构建</span>
<span class="token property">&quot;watch:html&quot;</span><span class="token operator">:</span> <span class="token string">&quot;watch 'npm run build:html' assets/html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 只要HTML文件有变动，就重新执行构建</span>
<span class="token property">&quot;build:favicon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node scripts/favicon.js&quot;</span> <span class="token comment">// 构建favicon</span>
</code></pre></div><h3 id="拿到package-json的变量"><a href="#拿到package-json的变量" class="header-anchor">#</a> 拿到package.json的变量</h3> <p>npm脚本有一个非常强大的功能，就是可以使用npm的内部变量。</p> <p>通过npm_package_前缀，npm脚本可以拿到package.json里面的字段，如：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.2.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;view&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node index.js&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以在自己的js中写：</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_name<span class="token punctuation">)</span> <span class="token comment">// foo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_version<span class="token punctuation">)</span> <span class="token comment">// 1.2.3</span>
</code></pre></div><h3 id="bin"><a href="#bin" class="header-anchor">#</a> bin</h3> <p>package.json中的bin，表示一个可执行文件到指定文件源的映射。通过<code>npm bin</code>命令显示当前项目的<code>bin</code>目录的路径。</p> <p>如在<code>@vue/cli</code>的package.json中：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bin/vue.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果全局安装<code>@vue/cli</code>的话，<code>@vue/cli</code>源文件会被安装在全局源文件安装目录下(<code>/user/local/lib/node_modules</code>)，而<code>npm</code>会在全局执行<code>bin</code>文件安装目录(<code>/user/local/bin</code>)下创建一个指向<code>/user/local/lib/node_moduels/@vue/cli/bin/vue.js</code>文件的名为<code>vue</code>的软连接，这样就可以直接在终端输入<code>vue</code>来执行相关命令。</p> <blockquote><p>@vue/cli全局安装后：C:\Users\admin\AppData\Roaming\nvm\v12.18.2\node_modules@vue\cli</p> <ul><li>使用了nvm，目前使用的node版本是12.18.2</li></ul></blockquote> <p>如果局部安装<code>@vue/cli</code>的话，npm会在本地项目<code>./node_modules/.bin</code>目录下创建一个指向<code>./node_modules/@vue/cli/bin/vue.js</code>名为<code>vue</code>的软连接，这个时候需要在终端中输入<code>./node_modules/.bin/vue</code>来执行(也可以使用<code>npx vue</code>命令来执行,<a href="https://github.com/npm/npx" target="_blank" rel="noopener noreferrer">npx<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的作用就是为了方便调用项目内部安装的模块)</p> <blockquote><p>软连接(符号链接)是一类特殊的可执行文件，其包含有一条以绝对路径或者相对路径的形式指向其他文件或目录的引用。在bin目录下执行<code>ll</code>指令可以查看具体的软连接指向。在对链接文件进行读或写操作的时候，系统会自动把该操作转换为对源文件的操作，但删除链接文件时，系统仅仅删除链接文件，而不删除源文件本身。</p></blockquote> <p>范例：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm init <span class="token operator">-</span>y <span class="token comment">// 创建一个package.json文件</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ok&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ...
<span class="token punctuation">}</span>
</code></pre></div><p>在package.json同目录下创建一个index.js文件，内容如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>#<span class="token operator">!</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>env node
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>#!：符号名称，指定文件的执行程序</li> <li>/usr/bin/env：执行程序的位置</li> <li>node：使用node</li></ul> <p>在项目目录下执行：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm install <span class="token operator">-</span>g
</code></pre></div><p>在任意的cmd窗口输入<code>ok</code>，都可以看到<code>hello</code></p> <p>卸载：</p> <div class="language-js extra-class"><pre class="language-js"><code>npm uninstall <span class="token operator">-</span>g
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/likwotsing/kt-vuepress/edit/master/docs/zh/relation/package.json.md" target="_blank" rel="noopener noreferrer">在Github 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2 个月前</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kt-vuepress/zh/relation/webpack.html" class="prev">
        Webpack
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/kt-vuepress/assets/js/app.ed2bf4cb.js" defer></script><script src="/kt-vuepress/assets/js/2.90c87c0b.js" defer></script><script src="/kt-vuepress/assets/js/27.b27e3ad7.js" defer></script>
  </body>
</html>
